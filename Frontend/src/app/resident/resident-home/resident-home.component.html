<div class="resident-home">
  <!-- Welcome Section -->
  <div class="welcome-section">
    <div class="welcome-text">
      <h1>Welcome back, {{userName}}! ðŸ‘‹</h1>
      <p>Manage your visitors and parcels from your personal dashboard</p>
    </div>
    <div class="welcome-graphic">
      <mat-icon>home</mat-icon>
    </div>
  </div>

  <!-- Stats Cards -->
  <div class="stats-row">
    <div class="stat-card pending">
      <mat-icon>hourglass_empty</mat-icon>
      <div class="stat-info">
        <span class="stat-num">{{pendingVisitors}}</span>
        <span class="stat-label">Pending Approvals</span>
      </div>
    </div>
    <div class="stat-card parcels">
      <mat-icon>inventory_2</mat-icon>
      <div class="stat-info">
        <span class="stat-num">{{pendingParcels}}</span>
        <span class="stat-label">Parcels to Collect</span>
      </div>
    </div>
    <div class="stat-card today">
      <mat-icon>groups</mat-icon>
      <div class="stat-info">
        <span class="stat-num">{{todayVisitors}}</span>
        <span class="stat-label">Today's Visitors</span>
      </div>
    </div>
  </div>

  <!-- Quick Actions -->
  <h2>Quick Actions</h2>
  <div class="actions-grid">
    <a routerLink="/resident/visitor-approval" class="action-card">
      <div class="action-icon visitor-icon">
        <mat-icon>how_to_reg</mat-icon>
      </div>
      <h3>Visitor Approval</h3>
      <p>Approve or reject visitors waiting at the gate</p>
      <span class="action-btn">Go to Approvals â†’</span>
    </a>
    <a routerLink="/resident/parcel-tracking" class="action-card">
      <div class="action-icon parcel-icon">
        <mat-icon>local_shipping</mat-icon>
      </div>
      <h3>Parcel Tracking</h3>
      <p>Track and acknowledge your parcel deliveries</p>
      <span class="action-btn">View Parcels â†’</span>
    </a>
    <a routerLink="/resident/pre-approve" class="action-card">
      <div class="action-icon preapprove-icon">
        <mat-icon>event_available</mat-icon>
      </div>
      <h3>Pre-Approve Visitor</h3>
      <p>Add expected guests for quick entry</p>
      <span class="action-btn">Pre-Approve â†’</span>
    </a>
    <a routerLink="/resident/frequent-visitors" class="action-card">
      <div class="action-icon frequent-icon">
        <mat-icon>star</mat-icon>
      </div>
      <h3>Frequent Visitors</h3>
      <p>Manage your regular visitors list</p>
      <span class="action-btn">View List â†’</span>
    </a>
  </div>

  <!-- Announcements Section -->
  @if (announcements.length > 0) {
    <h2 class="section-title"><mat-icon>campaign</mat-icon> Announcements</h2>
    <div class="announcements-section">
      @for (announcement of announcements; track announcement.id) {
        <div class="announcement-card" [ngClass]="'priority-' + announcement.priority">
          <div class="announcement-header">
            <mat-icon class="priority-icon">
              {{announcement.priority === 'high' ? 'error' : announcement.priority === 'normal' ? 'info' : 'check_circle'}}
            </mat-icon>
            <h3>{{announcement.title}}</h3>
            @if (announcement.priority === 'high') {
              <span class="priority-badge high">Urgent</span>
            }
          </div>
          <p class="announcement-message">{{announcement.message}}</p>
          <div class="announcement-meta">
            <span><mat-icon>calendar_today</mat-icon> {{announcement.date}}</span>
          </div>
        </div>
      }
    </div>
  }

  <!-- Recent Activity -->
  <h2>Recent Activity</h2>
  <div class="activity-list">
    @if (recentActivities.length === 0) {
      <div class="no-activity">
        <mat-icon>history</mat-icon>
        <p>No recent activity. Actions like approving visitors or collecting parcels will appear here.</p>
      </div>
    }
    @for (activity of recentActivities; track activity.id) {
      <div class="activity-item">
        <div class="activity-icon" [ngClass]="getActivityClass(activity.type)">
          <mat-icon>{{getActivityIcon(activity.type)}}</mat-icon>
        </div>
        <div class="activity-info">
          <span class="activity-title">{{activity.title}}</span>
          <span class="activity-time">{{activity.date}}, {{activity.time}}</span>
        </div>
      </div>
    }
  </div>
</div>
