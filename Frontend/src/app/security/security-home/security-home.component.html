<div class="security-home">
  <!-- Welcome Section -->
  <div class="welcome-section">
    <div class="welcome-text">
      <h1>Welcome, {{userName}}! üõ°Ô∏è</h1>
      <p>Manage visitor entries and parcel deliveries at the gate</p>
    </div>
    <div class="welcome-graphic">
      <mat-icon>security</mat-icon>
    </div>
  </div>

  <!-- Stats Cards -->
  <div class="stats-row">
    <div class="stat-card visitors">
      <mat-icon>groups</mat-icon>
      <div class="stat-info">
        <span class="stat-num">{{todayVisitors}}</span>
        <span class="stat-label">Today's Visitors</span>
      </div>
    </div>
    <div class="stat-card parcels">
      <mat-icon>inventory_2</mat-icon>
      <div class="stat-info">
        <span class="stat-num">{{todayParcels}}</span>
        <span class="stat-label">Today's Parcels</span>
      </div>
    </div>
    <div class="stat-card pending">
      <mat-icon>pending_actions</mat-icon>
      <div class="stat-info">
        <span class="stat-num">{{pendingEntry}}</span>
        <span class="stat-label">Pending Entry</span>
      </div>
    </div>
  </div>

  <!-- Quick Actions -->
  <h2>Quick Actions</h2>
  <div class="actions-grid">
    <a routerLink="/security/visitor-log" class="action-card">
      <div class="action-icon visitor-icon">
        <mat-icon>person_add</mat-icon>
      </div>
      <h3>Log New Visitor</h3>
      <p>Register a new visitor at the gate</p>
      <span class="action-btn">Add Visitor ‚Üí</span>
    </a>
    <a routerLink="/security/parcel-log" class="action-card">
      <div class="action-icon parcel-icon">
        <mat-icon>add_box</mat-icon>
      </div>
      <h3>Log New Parcel</h3>
      <p>Record a new parcel delivery</p>
      <span class="action-btn">Add Parcel ‚Üí</span>
    </a>
    <a routerLink="/security/all-visitors" class="action-card">
      <div class="action-icon allvisitors-icon">
        <mat-icon>groups</mat-icon>
      </div>
      <h3>All Visitors</h3>
      <p>View all visitors and manage entry/exit</p>
      <span class="action-btn">View All ‚Üí</span>
    </a>
    <a routerLink="/security/all-parcels" class="action-card">
      <div class="action-icon allparcels-icon">
        <mat-icon>inventory_2</mat-icon>
      </div>
      <h3>All Parcels</h3>
      <p>View all parcels and track deliveries</p>
      <span class="action-btn">View All ‚Üí</span>
    </a>
    <a routerLink="/security/pre-approved" class="action-card">
      <div class="action-icon preapproved-icon">
        <mat-icon>verified_user</mat-icon>
      </div>
      <h3>Pre-Approved List</h3>
      <p>View expected visitors today</p>
      <span class="action-btn">View List ‚Üí</span>
    </a>
  </div>

  <!-- Announcements Section -->
  @if (announcements.length > 0) {
    <h2 class="section-title"><mat-icon>campaign</mat-icon> Announcements</h2>
    <div class="announcements-section">
      @for (announcement of announcements; track announcement.id) {
        <div class="announcement-card" [ngClass]="'priority-' + announcement.priority">
          <div class="announcement-header">
            <mat-icon class="priority-icon">
              {{announcement.priority === 'high' ? 'error' : announcement.priority === 'normal' ? 'info' : 'check_circle'}}
            </mat-icon>
            <h3>{{announcement.title}}</h3>
            @if (announcement.priority === 'high') {
              <span class="priority-badge high">Urgent</span>
            }
          </div>
          <p class="announcement-message">{{announcement.message}}</p>
          <div class="announcement-meta">
            <span><mat-icon>calendar_today</mat-icon> {{announcement.date}}</span>
          </div>
        </div>
      }
    </div>
  }

  <!-- Recent Activity -->
  <h2>Recent Activity</h2>
  <div class="activity-list">
    @if (recentActivities.length === 0) {
      <div class="no-activity">
        <mat-icon>history</mat-icon>
        <p>No recent activity. Log visitors or parcels to see activity here.</p>
      </div>
    }
    @for (activity of recentActivities; track activity.id) {
      <div class="activity-item">
        <div class="activity-icon" [ngClass]="getActivityClass(activity.type)">
          <mat-icon>{{getActivityIcon(activity.type)}}</mat-icon>
        </div>
        <div class="activity-info">
          <span class="activity-title">{{activity.title}}</span>
          <span class="activity-time">{{activity.date}}, {{activity.time}}</span>
        </div>
      </div>
    }
  </div>
</div>
